{"version":3,"file":"static/js/33.4f559d41.chunk.js","mappings":"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","sources":["model/LoginModel.js","components/login/Login.js"],"sourcesContent":["export class LoginModel {\r\n    email = '';\r\n    password = '';\r\n}","import {Formik, Form, Field, ErrorMessage} from 'formik';\r\nimport { useState, useEffect } from 'react';\r\nimport * as Yup from 'yup';\r\nimport Loader from '../loader/Loader';\r\nimport { LoginModel } from '../../model/LoginModel';\r\nimport {  useDispatch, useSelector,   } from \"react-redux\";\r\nimport { NavLink, useNavigate } from \"react-router-dom\";\r\nimport {updateShowLoader, setErrorMessage, setSuccessMessage} from '../../store/reducers/loaderSlice';\r\nimport { loginAth } from '../../store/reducers/AuthSlice';\r\nimport { formatError, runLogoutTimer } from '../../services/SignupService';\r\nimport AlertError from '../alerts/AlertError';\r\nimport AlertSuccess from '../alerts/AlertSuccess';\r\nimport '../register/Register.css';\r\n\r\nconst Login = (props) => {\r\n    \r\n    const validationSchema = Yup.object().shape({\r\n        email : Yup.string().email(' Invalid email address').required('email is required'),\r\n        password : Yup.string().required('password is required'),\r\n    });\r\n    const [loginForm, setLoginForm] = useState(new LoginModel());\r\n    const dispatch = useDispatch();\r\n    const showLoading = useSelector(state => state.loader.showLoader);\r\n    const errorMessage = useSelector(state => state.loader.errorMessage);\r\n    const successMessage = useSelector(state => state.loader.successMessage);\r\n    const navigate = useNavigate();\r\n    \r\n    function handleSignUpFormSubmit(values,actions){\r\n        dispatch(updateShowLoader(true));\r\n        dispatch(loginAth(values)).then(response =>{\r\n            const types = response.type.split('/');\r\n            const type = types[types.length - 1];\r\n\r\n            if(type === 'fulfilled'){\r\n                actions.resetForm();\r\n                dispatch(setErrorMessage(''));\r\n                dispatch(setSuccessMessage('login Successfully!'));\r\n                runLogoutTimer(dispatch, response.payload.expiresIn * 1000, navigate);\r\n                navigate('/admin');\r\n            }\r\n            else if(type === 'rejected'){\r\n                const message = formatError(response.payload.error);\r\n                dispatch(setErrorMessage(message));\r\n                dispatch(setSuccessMessage(''));\r\n            }\r\n            \r\n        })\r\n        \r\n    }\r\n\r\n    useEffect(()=>{\r\n        dispatch(setErrorMessage(''));\r\n        dispatch(setSuccessMessage(''));\r\n    }, []);\r\n\r\n    return (\r\n        <div className=\"container\">\r\n            { showLoading && <Loader /> }\r\n            {errorMessage && <AlertError/>}\r\n            {successMessage && <AlertSuccess />}\r\n            <section className=\"section register min-vh-100 d-flex flex-column align-items-center justify-content-center py-4\">\r\n                <div className=\"container\">\r\n                <div className=\"row justify-content-center\">\r\n                    <div className=\"col-lg-4 col-md-6 d-flex flex-column align-items-center justify-content-center\">\r\n\r\n                    <div className=\"d-flex justify-content-center py-4\">\r\n                        <a href=\"#\" className=\"logo d-flex align-items-center w-auto\">\r\n                            <span className=\"d-none d-lg-block\">FKTECH</span>\r\n                        </a>\r\n                    </div>\r\n\r\n                    <div className=\"card mb-3\">\r\n\r\n                        <div className=\"card-body\">\r\n\r\n                        <div className=\"pt-4 pb-2\">\r\n                            <h5 className=\"card-title text-center pb-0 fs-4\">Login to Your Account</h5>\r\n                            <p className=\"text-center small\">Enter your username & password to login</p>\r\n                        </div>\r\n\r\n                        <Formik enableReinitialize initialValues={loginForm} \r\n                            onSubmit={handleSignUpFormSubmit} \r\n                            validationSchema={validationSchema} >\r\n                             {({touched, errors}) => (\r\n                                <Form className=\"row g-3 needs-validation\">\r\n                                    <div className=\"col-12\">\r\n                                        <label  className=\"form-label\">Email</label>\r\n                                        <div className=\"input-group has-validation\">\r\n                                            <span className=\"input-group-text\" id=\"inputGroupPrepend\">@</span>\r\n                                            <Field type=\"email\" name=\"email\" id=\"email\"  className={`form-control \r\n                                            ${touched.email && errors.email && 'is-invalid'} ${touched.email && !errors.email && 'is-valid'}`  }/>\r\n                                            <ErrorMessage name=\"email\" component=\"div\" className=\"invalid-feedback\"/>\r\n                                        </div>\r\n                                    </div>\r\n                                    <div className=\"col-12\">\r\n                                        <label className=\"form-label\">Password</label>\r\n                                        <Field type=\"password\" name=\"password\" id=\"password\"  className={`form-control \r\n                                        ${touched.password && errors.password && 'is-invalid'} \r\n                                        ${touched.password && !errors.password && 'is-valid'}`  }/>\r\n                                        <ErrorMessage name=\"password\" component=\"div\" className=\"invalid-feedback\"/>\r\n                                    </div>\r\n                                    <div className=\"col-12\">\r\n                                        <div className=\"form-check\">\r\n                                            <Field type=\"checkbox\" name=\"remember\" value=\"true\" id=\"rememberMe\" className=\"form-check-input\" />\r\n                                            <label className=\"form-check-label\">Remember me</label>\r\n                                        </div>\r\n                                    </div>\r\n                                    <div className=\"col-12\">\r\n                                        <button className=\"btn btn-primary w-100\" type=\"submit\">Login</button>\r\n                                    </div>\r\n                                </Form>\r\n                             )}\r\n                             \r\n                        </Formik>\r\n                            <div className=\"col-12 mt-2\">\r\n                                <p className=\"small mb-0\">Don't have account? \r\n                                    <NavLink to='/register'>Create an account</NavLink>\r\n                                </p>\r\n                             </div>\r\n                        </div>\r\n                    </div>\r\n                    </div>\r\n                </div>\r\n                </div>\r\n\r\n            </section>\r\n\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default Login;"],"names":["LoginModel","constructor","email","password","props","validationSchema","Yup","shape","required","loginForm","setLoginForm","useState","dispatch","useDispatch","showLoading","useSelector","state","loader","showLoader","errorMessage","successMessage","navigate","useNavigate","useEffect","setErrorMessage","setSuccessMessage","_jsxs","className","children","_jsx","Loader","AlertError","AlertSuccess","href","Formik","enableReinitialize","initialValues","onSubmit","values","actions","updateShowLoader","loginAth","then","response","types","type","split","length","resetForm","runLogoutTimer","payload","expiresIn","message","formatError","error","_ref","touched","errors","Form","id","Field","name","concat","ErrorMessage","component","value","NavLink","to"],"sourceRoot":""}